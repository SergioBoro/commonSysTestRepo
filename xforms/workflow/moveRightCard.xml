<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="xsltforms/xsltforms.xsl" type="text/xsl"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events"
  xmlns:xf="http://www.w3.org/2002/xforms">
	<head>
		<xf:model id="xformId_mainModel">
			<xf:instance id="xformId_mainInstance" xmlns="">
				<schema xmlns="">
					
				</schema>
			</xf:instance>
			<xf:bind>
				<xf:bind nodeset="instance('xformId_mainInstance')/info/@parallelName" required="true()" readonly="true()" />
			</xf:bind>
		</xf:model>
	</head>
	<body>
		<!--  <xf:output value="serialize(instance('xformId_mainInstance'))"/>  -->
			<div class="break selectorShort400">
				<xf:input class="author baseInput" ref="instance('xformId_mainInstance')/info/@parallelName">
					<xf:label>Выберите родительское параллельное согласование:</xf:label>
				</xf:input>
				<xf:selector buttonLabel="..."
					  procListAndCount="'workflow.xforms.moveRightCard.parallelListAndCount.celesta'" generalFilters=""
					  currentValue="''" windowCaption="'Выбор значения'"
					  xpathMapping="{'XPath(instance(quot(xformId_mainInstance))/info/@parallelName)' : 'name',
					  'XPath(instance(quot(xformId_mainInstance))/info/@parallelId)' : 'id'}"/>
			</div>
		<xf:group class="break">
			<table>
				<tr>
					<td width="300px">
						<div class="button200 break">
							<xf:trigger>
								<xf:label>Сохранить</xf:label>
								<xf:action ev:event="DOMActivate" if="(is-valid(instance('xformId_mainInstance'))=true())">
									<xf:load
									resource="javascript:gwtXFormSave('xformId','1',  Writer.toString(getSubformInstanceDocument('xformId_mainModel', 'xformId_mainInstance')))"
								>
									</xf:load>
								</xf:action>
									<xf:action ev:event="DOMActivate"
										if="(is-valid(instance('xformId_mainInstance'))=false())">
										<xf:message>Заполнено с ошибкой</xf:message>
									</xf:action>
							</xf:trigger>
						</div>
					</td>
					<td>
						<div class="button200">
							<xf:trigger>
								<xf:label>Закрыть</xf:label>
								<xf:action ev:event="DOMActivate">
									<xf:load
									resource="javascript:gwtXFormUpdate('xformId','1', null)"
								>
									</xf:load>
								</xf:action>
							</xf:trigger>
						</div>
					</td>
				</tr>
			</table>
		</xf:group>
	</body>
</html>