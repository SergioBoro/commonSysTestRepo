<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="xsltforms/xsltforms.xsl" type="text/xsl"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events"
  xmlns:xsd="http://www.w3.org/2001/XMLschema" xmlns:fs="http://www.curs.ru/ns/FormServer"
  xmlns:xf="http://www.w3.org/2002/xforms">
  <head>
    <xf:model id="xformId_mainModel">
      <xf:instance id="xformId_mainInstance">
        <schema xmlns="">
          <context>
            <name/>
            <inn/>
            <type id=""/>
            <orgtype>-1</orgtype>
          </context>
        </schema>
      </xf:instance>
      <xf:bind/>
    </xf:model>
  </head>
  <body>
  <!--xf:output value="serialize(instance('xformId_mainInstance'))"/-->
    <div class="control" style="width: 200px; padding: 2px; float: left;">
      <xf:input class="baseInput" ref="instance('xformId_mainInstance')/context/name">
        <xf:label>Наименование: </xf:label>
      </xf:input>
    </div>
    <div class="control" style="width: 150px; padding: 2px; float: left;">
      <xf:input class="baseInput" ref="instance('xformId_mainInstance')/context/inn">
        <xf:label>ИНН: </xf:label>
      </xf:input>
    </div>
    <xf:group ref="instance('xformId_mainInstance')/context[orgtype='-1']">
      <div class="control" style="width: 300px; padding: 2px; float: left;">
        <xf:select1 class="baseInput" ref="instance('xformId_mainInstance')/context/type/@id">
          <xf:label>Тип:</xf:label>
          <xf:itemset nodeset="instance('xformId_mainInstance')/types/type">
            <xf:label ref="@name"/>
            <xf:value ref="@id"/>
          </xf:itemset>					
        </xf:select1>
      </div>
    </xf:group>
    <div class="control" style="width: 10px; padding: 2px; float: left;"/>
    <table cellpadding="0px" cellspacing="1px" width="220px">
      <tr height="20px;"/>
      <tr>
        <td class="Tab" id="Tab1" style="width: 110px; text-align: center">
          <div class="newbutton" style="width: 100%;">
            <xf:trigger class="blue">
              <xf:label>Очистить</xf:label>
              <xf:action ev:event="DOMActivate">
                <xf:setvalue ref="instance('xformId_mainInstance')/context/name" value=""/>
                <xf:setvalue ref="instance('xformId_mainInstance')/context/inn" value=""/>
                <xf:setvalue ref="instance('xformId_mainInstance')/context/type/@id" value="-1"/>
              </xf:action>
            </xf:trigger>
          </div>
        </td>
        <td class="Tab" id="Tab1" style="width: 110px; text-align: center">
          <div class="newbutton" style="width: 100%;">
            <xf:trigger class="blue">
              <xf:label>Отобразить</xf:label>
              <xf:action ev:event="DOMActivate">
                <!--xf:load resource="javascript:gwtXFormFilter('xformId','1', Writer.toString(xforms.defaultModel.getInstanceDocument('xformId_mainInstance')))"/-->
				<xf:load resource="javascript:gwtXFormFilter('xformId','1', Writer.toString(getSubformInstanceDocument('xformId_mainModel', 'xformId_mainInstance')))"></xf:load>
			  </xf:action>
            </xf:trigger>
          </div>
        </td>
      </tr>
    </table>
  </body>
</html>
